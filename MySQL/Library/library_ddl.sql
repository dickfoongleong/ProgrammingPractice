DROP DATABASE IF EXISTS LIBRARY;

CREATE DATABASE LIBRARY;
USE LIBRARY;

CREATE TABLE user (
	ID INT NOT NULL AUTO_INCREMENT,
	USERNAME VARCHAR(50) NOT NULL,
	PASSWORD VARCHAR(255) NOT NULL,
	ADMIN BOOLEAN,
	FIRST_NAME VARCHAR(255) NOT NULL,
	LAST_NAME VARCHAR(255) NOT NULL,
	PRIMARY KEY (ID)
);

CREATE TABLE book (
	ID INT NOT NULL AUTO_INCREMENT,
	TITLE VARCHAR(255) NOT NULL,
	AUTHOR VARCHAR(255) NOT NULL,
	GENRE VARCHAR(255) NOT NULL,
	PRICE DECIMAL(7,2),
	COUNT INT NOT NULL,
	PRIMARY KEY (ID)
);

CREATE TABLE issue (
	ID INT NOT NULL AUTO_INCREMENT,
	USER_ID INT NOT NULL,
	BOOK_ID INT NOT NULL,
	ISSUE_DATE DATE NOT NULL,
	RETURN_DATE DATE,
	PERIOD INT NOT NULL,
	FINE_RATE INT NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (USER_ID) REFERENCES user (ID),
	FOREIGN KEY (BOOK_ID) REFERENCES book (ID)
);

